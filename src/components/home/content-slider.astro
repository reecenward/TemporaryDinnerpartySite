<section class="swiper mySwiper pt-12">
  <div class="swiper-wrapper">
    <div class="swiper-slide">
      <div class="swiper-video-wrapper">
        <div
          class="video-c"
       
        >
          <div class="handle-wrapper">
            <video
              class="video-p"
              width="100%"
              height="100%"
              playsinline
              preload="none"
              poster="1.jpg"
              muted
              loop
              src="1.mp4">
            
                <!-- <source src="files/sample.mp4" type="video/mp4"> -->
                <!-- Poster image will be lazy-loaded -->
                <img src="1.jpg" alt="Video placeholder" loading="lazy">
              </video>
            </video>
            <div class="custom-controls">
              <button class="play-pause">
                <img src="/play.svg" alt="Play" class="play-icon" />
              </button>
              <button class="mute-unmute">
                <img
                  src="/volume.svg"
                  alt="Mute"
                  class="volume-icon"
                  style="display: none;"
                />
                <img src="/volume-x.svg" alt="Unmute" class="volume-x-icon" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="swiper-slide">
      <div class="swiper-video-wrapper">
        <div
          class="video-c"
   
        >
          <div class="handle-wrapper">
            <video
              class="video-p"
              width="100%"
              height="100%"
              playsinline
              preload="none"
             poster="2.jpg"
              muted
              loop
              src="/2.mp4">
              <img src="1.jpg" alt="Video placeholder" loading="lazy">
            </video>
            <div class="custom-controls">
              <button class="play-pause">
                <img src="/play.svg" alt="Play" class="play-icon" />
              </button>
              <button class="mute-unmute">
                <img
                  src="/volume.svg"
                  alt="Mute"
                  class="volume-icon"
                  style="display: none;"
                />
                <img src="/volume-x.svg" alt="Unmute" class="volume-x-icon" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="swiper-slide">
      <div class="swiper-video-wrapper">
        <div
          class="video-c"

        >
          <div class="handle-wrapper">
            <video
              class="video-p"
              width="100%"
              height="100%"
              playsinline
              preload="none"
              poster="3.jpg"
              muted
              loop
              src="/3.mp4"></video>
            <div class="custom-controls">
              <button class="play-pause">
                <img src="/play.svg" alt="Play" class="play-icon" />
              </button>
              <button class="mute-unmute">
                <img
                  src="/volume.svg"
                  alt="Mute"
                  class="volume-icon"
                  style="display: none;"
                />
                <img src="/volume-x.svg" alt="Unmute" class="volume-x-icon" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
 
    <div class="swiper-slide">
      <div class="swiper-video-wrapper">
        <div
          class="video-c"

        >
          <div class="handle-wrapper">
            <video
              class="video-p"
              width="100%"
              height="100%"
              playsinline
              preload="none"
              poster="4.jpg"
              muted
              loop
              src="/4.mp4"></video>
            <div class="custom-controls">
              <button class="play-pause">
                <img src="/play.svg" alt="Play" class="play-icon" />
              </button>
              <button class="mute-unmute">
                <img
                  src="/volume.svg"
                  alt="Mute"
                  class="volume-icon"
                  style="display: none;"
                />
                <img src="/volume-x.svg" alt="Unmute" class="volume-x-icon" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="swiper-slide">
      <div class="swiper-video-wrapper">
        <div
          class="video-c"

        >
          <div class="handle-wrapper">
            <video
              class="video-p"
              width="100%"
              height="100%"
              playsinline
              preload="none"
              poster="5.jpg"
              muted
              loop
              src="/5.mp4"></video>
            <div class="custom-controls">
              <button class="play-pause">
                <img src="/play.svg" alt="Play" class="play-icon" />
              </button>
              <button class="mute-unmute">
                <img
                  src="/volume.svg"
                  alt="Mute"
                  class="volume-icon"
                  style="display: none;"
                />
                <img src="/volume-x.svg" alt="Unmute" class="volume-x-icon" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="swiper-slide">
      <div class="swiper-video-wrapper">
        <div
          class="video-c"

        >
          <div class="handle-wrapper">
            <video
              class="video-p"
              width="100%"
              height="100%"
              playsinline
              preload="none"
              poster="4.jpg"
              muted
              loop
              src="/4.mp4"></video>
            <div class="custom-controls">
              <button class="play-pause">
                <img src="/play.svg" alt="Play" class="play-icon" />
              </button>
              <button class="mute-unmute">
                <img
                  src="/volume.svg"
                  alt="Mute"
                  class="volume-icon"
                  style="display: none;"
                />
                <img src="/volume-x.svg" alt="Unmute" class="volume-x-icon" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="swiper-pagination"></div>
</section>
  

<style>
  @font-face {
    font-family: "goudy_bookletter_1911";
    src: url("/font.woff") format("woff");
  }

  .swiper {
    width: 100%;
    height: auto;
    overflow: hidden;
    position: relative;
 
    padding-top: 10vh;
    padding-bottom: 10vh;
  }
  .swiper-wrapper {
    width: 100%;
    height: auto;
    display: flex;
    align-items: center;
    justify-content: start;
  }

  .swiper-slide {
    height: auto;
    width: 500px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-video-wrapper {
    width: 500px;
    height: 100%;
    position: relative;
    opacity: 0.5;
    transform: translateY(0);
    transition:
      opacity 100ms cubic-bezier(0.4, 0, 0.2, 1),
      transform 800ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .review {
    color: #fffbef;
    padding: 10px;
  }



  .handle-wrapper {
    display: flex;
    align-items: center;
  }

  .video-c {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 10px;
   
    position: relative;
    background-color: #07005c;
  }

  .swiper-slide .swiper-video-wrapper {
    opacity: 0.5;
    transform: scale(0.9);
  }

  .swiper-slide.swiper-slide-active .swiper-video-wrapper {
    opacity: 1;
    transform: scale(1);
  }

  .swiper-slide .swiper-video-wrapper-2 {
    opacity: 0.5;
    transform: scale(0.9);
  }
  .swiper-slide .swiper-video-wrapper-2:hover {
    opacity: 0.75;
  }
  /* .swiper-slide .swiper-video-wrapper:hover {
    opacity: 1;
  } */

  .swiper-slide.swiper-slide-active .swiper-video-wrapper-2 {
    opacity: 1;
    transform: scale(1);
  }

  @media only screen and (max-width: 900px) {
    .swiper-video-wrapper {
      width: 300px;
      height: auto;
    }
    .swiper {
      padding-top: 2.5vh;
      padding-bottom: 2.5vh;
    }
  }
  .custom-controls {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;
    z-index: 9999;
    pointer-events: none;
  }

  .custom-controls button {
    background-color: transparent;
    color: #fffbef;
    border: none;
    padding: 10px;
    cursor: pointer;
    font-family: "Poppins", sans-serif;
    pointer-events: auto;
  }

  .play-pause {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    opacity: 0;
  }

  .mute-unmute {
    color: #fffbef;
    margin: 10px;
    z-index: 9999;
  }

  .video-p {
    border-radius: 10px;
  }

  .volume-icon {
    display: none;
  }

  .volume-x-icon {
  }
  video {
    display: block; /* Removes extra space around the video */
    width: 100%;
    height: 100%;
  }

  video::-webkit-media-controls {
    display: none; /* For WebKit browsers (Safari, Chrome) */
  }

  video::-moz-media-controls {
    display: none; /* For Firefox */
  }

  video::-ms-media-controls {
    display: none; /* For Internet Explorer */
  }

  video::media-controls {
    display: none; /* General case */
  }
</style>

<!-- <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
  /> -->
<!--
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> -->

<script type="module">
  import Swiper from "https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs";

  const swiper = new Swiper(".mySwiper", {
    direction: "horizontal",
    loop: true,
    centeredSlides: true,
    speed: 800,
    autoplay: false,
    pauseOnMouseEnter: false,
    momentumBounce: true,
    momentum: true,

    mousewheel: {
      enabled: true,
      forceToAxis: true,
    },
    reverseDirection: true,
    spaceBetween: 2,
    freemode: true,
    slidesPerView: "auto",

    breakpoints: {
      901: {
        slidesPerView: 4,
      },
      900: {
        slidesPerView: 1,
      },
    },
  });

  const videos = document.querySelectorAll(".swiper-slide video");
  const customControls = document.querySelectorAll(".custom-controls");
  const playPauseButtons = document.querySelectorAll(".play-pause");
  const muteUnmuteButtons = document.querySelectorAll(".mute-unmute");

  const playCurrentVideo = () => {
    videos.forEach((video, index) => {
      video.pause();
      video.currentTime = 0;
      customControls[index].style.display = "none"; // Hide controls initially
    });

    const activeSlide = swiper.slides[swiper.activeIndex];
    const activeVideo = activeSlide.querySelector("video");
    const activeControls = activeSlide.querySelector(".custom-controls");

    if (activeVideo) {
      activeVideo.play();
    }
    if (activeControls) {
      activeControls.style.display = "flex"; // Show controls for active video
    }
  };

  swiper.on("slideChange", playCurrentVideo);

  playPauseButtons.forEach((button, index) => {
    const video = videos[index];
    const playIcon = button.querySelector(".play-icon");

    button.addEventListener("click", () => {
      if (video.paused) {
        video.play();
        playIcon.style.opacity = "0";
      } else {
        video.pause();
        playIcon.style.opacity = "1";
      }
    });
  });

  muteUnmuteButtons.forEach((button, index) => {
    const video = videos[index];
    const volumeIcon = button.querySelector(".volume-icon");
    const volumeXIcon = button.querySelector(".volume-x-icon");

    button.addEventListener("click", () => {
      video.muted = !video.muted;
      if (video.muted) {
        volumeIcon.style.display = "none";
        volumeXIcon.style.display = "block";
      } else {
        volumeIcon.style.display = "block";
        volumeXIcon.style.display = "none";
      }
    });
  });

  playCurrentVideo();
</script>
